(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[678],{76779:function(e,t,a){Promise.resolve().then(a.bind(a,79117))},79117:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var n=a(57437),i=a(2265),r=a(24033),s=a(60930),l=a(20021),d=a(61396),o=a.n(d),c=a(59567),h=a.n(c);function p(){let[e,t]=(0,i.useState)([]),[a,d]=(0,i.useState)(!1),c=(0,r.useSearchParams)(),p=c.get("id"),x=e=>{let t=new s.default,a=new Image;a.src="/images/whitelogo.png",a.onload=function(){t.addImage(a,"PNG",15,15,50,10),t.setFontSize(24),t.text("SUbhauler Company Verification Form",100,50,{align:"center"});let n=[["Carrier ID:",p],["Company:",e.company],["DOT #:",e.DOT],["MC #:",e.MC],["Status:",e.Status]],i=e.CreatedDate;h()(t,{body:n,margin:{left:15},startY:75}),t.setFontSize(10),t.text(i,175,22),t.setLineWidth(1),t.line(15,270,195,270),t.setFontSize(10),t.text("- Carshipy LLC -",105,280,{align:"center"}),t.save("vehicle_registration_".concat(e.vehicle_id,".pdf"))}};if(null!==p){let e=p.replace(/"/g,"");(0,i.useEffect)(()=>{let a="https://kfyfzfw6si.execute-api.us-east-2.amazonaws.com/default/carrier_bookings?TableName=carrier_details&carrierId=".concat(e);fetch(a).then(e=>e.json()).then(e=>{t(e)}).catch(e=>{console.error("Error fetching data:",e)})},[])}return(0,n.jsx)("section",{children:(0,n.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 relative",children:[(0,n.jsx)("div",{className:"absolute left-0 bottom-0 -ml-20 hidden lg:block pointer-events-none","aria-hidden":"true","data-aos":"fade-up","data-aos-delay":"400",children:(0,n.jsx)("svg",{className:"max-w-full",width:"564",height:"552",viewBox:"0 0 564 552",fill:"none",xmlns:"http://www.w3.org/2000/svg"})}),(0,n.jsx)("div",{className:"relative pt-32 pb-10 md:pt-40 md:pb-16",children:(0,n.jsx)("div",{className:"max-w-3xl mx-auto text-center pb-12 md:pb-16",children:(0,n.jsxs)("div",{children:[(0,n.jsx)(o(),{href:"/dashboard?id=".concat(p),children:(0,n.jsx)("a",{children:"Back to Dashboard"})}),(0,n.jsxs)("center",{children:[(0,n.jsxs)("table",{className:"table",style:{marginTop:"20px"},children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{style:{paddingRight:"30px",paddingLeft:"20px"},children:"Company"}),(0,n.jsx)("th",{style:{paddingRight:"30px"},children:"DOT #"}),(0,n.jsx)("th",{style:{paddingRight:"30px"},children:"MC #"}),(0,n.jsx)("th",{style:{paddingRight:"30px"},children:"Status"}),(0,n.jsx)("th",{style:{paddingRight:"30px"},children:"CreatedDate"}),(0,n.jsx)("th",{style:{paddingRight:"20px"},children:"Action"})]})}),(0,n.jsx)("tbody",{children:e.map(e=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{style:{paddingRight:"30px",paddingLeft:"20px"},children:e.company}),(0,n.jsx)("td",{style:{paddingRight:"30px"},children:e.DOT}),(0,n.jsx)("td",{style:{paddingRight:"30px"},children:e.MC}),(0,n.jsx)("td",{style:{paddingRight:"30px"},children:e.Status}),(0,n.jsx)("td",{style:{paddingRight:"30px"},children:e.CreatedDate}),(0,n.jsx)("td",{style:{paddingRight:"20px"},children:(0,n.jsx)("button",{style:{backgroundColor:"#2195f2",width:"20",height:"auto",borderRadius:"10px",padding:"10px"},type:"button",onClick:()=>x(e),value:e.vehicle_id,children:"PDF"})})]},e.vehicle_id))})]}),(0,n.jsx)("div",{"data-aos":"fade-up","data-aos-delay":"400",children:a&&(0,n.jsx)(l.Z,{})})]})]})})})]})})}},20021:function(e,t,a){"use strict";a.d(t,{Z:function(){return h}});var n=a(57437),i=a(2265),r=a(8529),s=a.n(r),l=a(60930),d=a(59567),o=a.n(d),c=a(24033);function h(){let[e,t]=(0,i.useState)(!1),a=(0,c.useSearchParams)(),r=a.get("id"),d=r;null!==r&&(d=r.replace(/"/g,""));let[h,p]=(0,i.useState)([]),[x,u]=(0,i.useState)({company:"",DOT:"",MC:"",carrier_id:""}),[g,m]=(0,i.useState)("");(0,i.useEffect)(()=>{b()},[]);let b=()=>{t(!0)},y=()=>{t(!1)},f=async e=>{let t=new l.default,a=new Image;a.src="/images/whitelogo.png",a.onload=function(){t.addImage(a,"PNG",15,15,50,10),t.setFontSize(24),t.text("Vehicle Registration Report",100,50,{align:"center"});let e=[["Carrier ID:",d],["Company:",x.company],["DOT #:",x.DOT],["MC #:",x.MC],["Status:","Pending Approval"]],n=new Date,i=n.toLocaleDateString();o()(t,{body:e,margin:{left:15},startY:75}),t.setFontSize(10),t.text(i,175,22),t.setLineWidth(1),t.line(15,270,195,270),t.setFontSize(10),t.text("- Carshipy LLC -",105,280,{align:"center"}),t.save("carrier_registration.pdf")},e.preventDefault(),alert("Data Being Processed...");let n={TableName:"carrier_details",Item:{carrier_id:"".concat(d),trucks:h}};try{console.log(n);let e=new Date,t=await fetch("https://4af3gk9g62.execute-api.us-east-2.amazonaws.com/default/create_carrier",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({TableName:"carrier_details",Item:{carrier_id:"".concat(d),vehicle_id:"".concat(Math.floor(1e4*Math.random())),company:"".concat(x.company),DOT:"".concat(x.DOT),MC:"".concat(x.MC),Status:"Pending Approval",CreatedDate:"".concat(e.toLocaleDateString())}})});200===t.status?console.log("Data submitted successfully."):console.error("Failed to submit data."),y()}catch(e){console.error("Error:",e)}};return(0,n.jsx)("div",{style:{color:"#000",backgroundColor:"black",height:"auto",width:"200px;"},children:(0,n.jsxs)(s(),{isOpen:e,onRequestClose:y,contentLabel:"Carrier Details Modal",children:[(0,n.jsx)("h2",{style:{color:"black",margin:"10px"},children:"Kindly Add The required Details to proceed with your Registration"}),(0,n.jsxs)("form",{onSubmit:f,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{color:"black"},children:"Company:"}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{style:{borderRadius:"22px",margin:"10px",color:"black"},type:"text",value:x.company,onChange:e=>u({...x,company:e.target.value})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{color:"black"},children:"DOT #:"}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{style:{borderRadius:"22px",margin:"10px",color:"black"},type:"text",value:x.DOT,onChange:e=>u({...x,DOT:e.target.value})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{color:"black"},children:"MC #:"}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{style:{borderRadius:"22px",margin:"10px",color:"black"},type:"text",value:x.MC,onChange:e=>u({...x,MC:e.target.value})})]}),(0,n.jsx)("button",{className:"btn btn-info",type:"submit",style:{backgroundColor:"#09c204",borderRadius:"22px",margin:"10px"},children:"Submit"}),(0,n.jsx)("button",{onClick:y,className:"btn btn-danger",style:{backgroundColor:"#d30e1d",borderRadius:"22px",margin:"10px"},children:"Close"})]})]})})}},61396:function(e,t,a){e.exports=a(46685)}},function(e){e.O(0,[505,685,801,529,971,596,744],function(){return e(e.s=76779)}),_N_E=e.O()}]);